/*********************************************************************************************************************/
/*-----------------------------------------------------Includes------------------------------------------------------*/
/*********************************************************************************************************************/
#include "Touch_Sensor.h"

#include "Platform_Types.h"
#include "IfxVadc.h"
#include "IfxVadc_Adc.h"
#include "Adc.h"

/*********************************************************************************************************************/
/*------------------------------------------------------Macros-------------------------------------------------------*/
/*********************************************************************************************************************/
#define THRESHOLD       3900

/*********************************************************************************************************************/
/*-------------------------------------------------Global variables--------------------------------------------------*/
/*********************************************************************************************************************/
IfxVadc_Adc_Channel g_touch_sensor = { .channel = IfxVadc_ChannelId_5, .resultreg = IfxVadc_ChannelResult_1 };

/*********************************************************************************************************************/
/*---------------------------------------------Function Implementations----------------------------------------------*/
/*********************************************************************************************************************/
void Init_Touch_Sensor(void) {
    Init_Vadc_Channel(&g_touch_sensor);
}

boolean Read_Touch_State(void) {
    return (Read_Adc_Value(&g_touch_sensor) < THRESHOLD);
}
